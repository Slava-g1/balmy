"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.filterOutInvalidSpeeds = exports.isValidGasPriceValue = exports.isEIP1159Compatible = void 0;
const utils_1 = require("../../shared/utils");
function isEIP1159Compatible(gasPriceForSpeed) {
    const keys = Object.keys(gasPriceForSpeed);
    if (keys.length === 0) {
        throw new Error(`Found a gas price result with nothing on it. This shouldn't happen`);
    }
    const gasPrice = gasPriceForSpeed[keys[0]];
    if ('maxFeePerGas' in gasPrice && (0, utils_1.isBigIntish)(gasPrice.maxFeePerGas)) {
        return true;
    }
    return false;
}
exports.isEIP1159Compatible = isEIP1159Compatible;
function isValidGasPriceValue(value) {
    return ('maxFeePerGas' in value && (0, utils_1.isBigIntish)(value.maxFeePerGas)) || ('gasPrice' in value && (0, utils_1.isBigIntish)(value.gasPrice));
}
exports.isValidGasPriceValue = isValidGasPriceValue;
function filterOutInvalidSpeeds(result) {
    return Object.fromEntries(Object.entries(result).filter(([, value]) => isValidGasPriceValue(value)));
}
exports.filterOutInvalidSpeeds = filterOutInvalidSpeeds;
//# sourceMappingURL=utils.js.map